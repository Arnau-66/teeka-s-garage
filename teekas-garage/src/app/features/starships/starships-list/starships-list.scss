/* ==============================================
   STARSHIPS LIST — HOLO UI (sin cards visibles)
   ============================================== */

/* ---------- Variables ---------- */
:root{
  --c-holo: 72,188,255;         /* azul del glow/haz */
  --holo-text: 72,188,255;      /* azul del título */
  --projector-h: 680px;         /* altura del holoproyector */
}

$rack-gap: .9rem;
$panel-max: 1100px;
$stage-w: clamp(280px, 48vw, 624px);
$stage-h: clamp(160px, 24vh, 280px);

/* ---------- Base ---------- */
.hangar{ position:relative; min-height:100dvh; padding:2rem 0; overflow:hidden; }
.hangar__bg{ position:absolute; inset:0; z-index:0; background:url('/img/garage-background.png') center/cover no-repeat; filter:brightness(.45) saturate(1.1); }
.hangar__stars{ position:absolute; inset:0; z-index:1; pointer-events:none; opacity:.25;
  background-image: radial-gradient(rgba(255,255,255,.8) 1px, transparent 1.5px),
                    radial-gradient(rgba(255,255,255,.6) 1px, transparent 2px);
  background-size: 500px 500px, 800px 800px; background-position: 0 0, 60px 80px;
}
.hangar__panel{ position:relative; z-index:3; max-width:$panel-max; margin:0 auto; padding:0 1rem;
  padding-bottom: calc(var(--projector-h) + 22vh);
}
.hangar__panel h2{ color:#fff; margin:0 0 .75rem; }

/* ---------- Holograma central (delante del proyector) ---------- */
.holo-stage{
  position: sticky; top: 18px; z-index: 10; /* por DELANTE del proyector */
  display: grid; place-items: center; height: $stage-h; margin-bottom: 1rem; pointer-events: none;
}
.holo-stage img{
  display:block; width:$stage-w; height:100%; object-fit:contain;
  filter: grayscale(1) sepia(1) hue-rotate(170deg) saturate(7) brightness(1.12) contrast(1.18)
          drop-shadow(0 0 16px rgba(var(--c-holo), .95))
          drop-shadow(0 0 34px rgba(var(--c-holo), .55)) !important;
  mask-image: repeating-linear-gradient(to bottom, rgba(0,0,0,1) 0 2px, rgba(0,0,0,.9) 2px 3px);
}
.holo-caption{
  margin-top:.35rem; letter-spacing:.12em; text-transform:uppercase;
  color: rgba(var(--holo-text), 1) !important;
  text-shadow: 0 0 10px rgba(var(--holo-text),.9), 0 0 26px rgba(var(--holo-text),.5);
  -webkit-text-stroke: .6px rgba(255,255,255,.35);
}

/* ---------- Controles (rack oculto) ---------- */
.carousel{
  position: sticky; bottom: calc(var(--projector-h) + 24px);
  display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: .5rem; z-index: 9;
}

/* Lista funcional pero oculta (sin barra ni elementos visibles) */
.starships.rack.is-hidden{
  height: 0; overflow: hidden; padding: 0; margin: 0;
  position: absolute; left: -9999px; /* fuera de pantalla */
  width: 1px;
}

/* Botones estilo SW */
.sw-btn{
  --edge: rgba(255,255,255,.85);
  --glow: rgba(var(--c-holo), .65);
  appearance:none; border:0; background:transparent; cursor:pointer;
  position:relative; display:inline-grid; place-items:center; padding:0; border-radius:10px; isolation:isolate;
}
.sw-btn__inner{
  padding:.55rem .85rem; border:1.5px solid var(--edge); border-radius:10px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.18), 0 0 14px var(--glow);
  background: rgba(255,255,255,.06); backdrop-filter: blur(2px);
  display:inline-flex; align-items:center; gap:.45rem;
}
.sw-btn__label{ color:#fff; }
.sw-btn__icon { color:#fff; text-shadow: 0 0 8px rgba(var(--c-holo),.75); font-weight:900; }
.sw-btn:hover .sw-btn__inner{ box-shadow: inset 0 0 0 1px rgba(255,255,255,.22), 0 0 18px var(--glow); }
.sw-btn[disabled] .sw-btn__inner{ opacity:.45; box-shadow: inset 0 0 0 1px rgba(255,255,255,.12); }
.car-btn{ z-index:9; }
.car-btn .sw-btn__inner{ width:40px; height:40px; padding:0; }

/* ---------- Pager: prev izq, page center, next dcha ---------- */
.pager.bottom{
  position: relative; z-index: 4;
  display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: .75rem;
  margin-block: .5rem 1rem;
}
.pager__prev{ justify-self: start; }
.pager__next{ justify-self: end; }

/* ---------- Holoproyector (detrás) ---------- */
.holoprojector{
  position: fixed; left: 50%; bottom: -30%; transform: translateX(-50%);
  z-index: 7; display: grid; place-items: center; width: min(1200px, 96vw); pointer-events: none;
}
.holoprojector__img{
  display:block; height: var(--projector-h); width:auto;
  filter: drop-shadow(0 0 16px rgba(var(--c-holo), .8));
}
.holoprojector__beam{
  position:absolute; bottom: calc(var(--projector-h) - 24px); left:50%; transform: translateX(-50%);
  width: 95vw; max-width: 1400px; height: 52vh; z-index: -1; pointer-events:none;
  clip-path: polygon(50% 0%, 12% 100%, 88% 100%);
  background:
    radial-gradient(closest-side, rgba(var(--c-holo), .30), rgba(var(--c-holo), 0) 70%) center top/100% 42% no-repeat,
    linear-gradient(to bottom, rgba(var(--c-holo), .40), rgba(var(--c-holo), .10) 55%, transparent 100%);
  filter: blur(1.4px);
  animation: beam-flicker 2.1s ease-in-out infinite alternate;
}
@keyframes beam-flicker{ from { opacity:.9; } to { opacity:.65; } }

/* ---------- A11y helper ---------- */
.sr-only{ position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0; }

/* === Place carousel arrows at the edges === */
.carousel{
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* left | spacer | right */
  align-items: center;
}

/* Prev arrow always in the left column */
.car-btn--prev{
  grid-column: 1 !important;
  justify-self: start;
}

/* Next arrow always in the right column */
.car-btn--next{
  grid-column: 3 !important;
  justify-self: end;
}

/* Keep the (hidden) rack occupying the middle column as a spacer */
.starships.rack.is-hidden{
  position: static;       /* was absolute; let it participate in the grid */
  visibility: hidden;     /* stays invisible */
  height: 0;
  overflow: hidden;
  grid-column: 2;         /* middle column */
  padding: 0; margin: 0;
  width: 100%;
}

/* === Pager: left & right edges (no counter) === */
.pager.bottom{
  display: grid;
  grid-template-columns: 1fr 1fr; /* two columns only */
  align-items: center;
}
.pager__prev{ grid-column: 1; justify-self: start; }
.pager__next{ grid-column: 2; justify-self: end; }
