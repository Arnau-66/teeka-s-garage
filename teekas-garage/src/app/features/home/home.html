<section class="home">

    <div class="stars" aria-hidden="true"></div>

    <div class="planet-wrap" aria-hidden="true">
      <div class="planet">
        <div class="planet-rot"></div>
      </div>
    </div>

  @if (!hyperspace()) {
    <h1>TATOOINE</h1>
    <p>Explore the Star Wars starships database.</p>

    <button class="cta" type="button" (click)="openLogin()" aria-haspopup="dialog" aria-controls="loginDialog">
      <p>Teeka's Garage</p>
    </button>
  }
</section>

@if (showLogin()) {
  <div class="overlay" role="presentation" (click)="closeLogin()">
    <div
      class="dialog"
      role="dialog"
      id="loginDialog"
      aria-modal="true"
      aria-labelledby="loginTitle"
      aria-describedby="loginDesc"
      (click)="$event.stopPropagation()"
      tabindex="-1" >

      <header class="dialog__header">
        <img class="dialog__badge" src="/img/stormtrooper-icon.png"
          width="64" height="64" alt="" aria-hidden="true"
          loading="eager" decoding="async" />
        <h2 id="loginTitle">Imperial Checkpoint</h2>
        <p id="loginDesc">Provide your credentials to proceed to the starships registry</p>
        <button class="dialog__close" type="button" (click)="closeLogin()" aria-label="Close dialog">X</button>
      </header>

      <app-login (authSuccess)="onAuthSuccess()"></app-login>

    </div>
  </div>
}

<app-hyperspace-overlay
  #hs
  [show]="hyperspace()"
  [showButton]="false"
  [durationMs]="2600"
  (done)="onHyperspaceDone()">
</app-hyperspace-overlay>

